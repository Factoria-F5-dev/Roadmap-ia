<!DOCTYPE html>
<html lang="es">
      <head>
            <meta charset="UTF-8" />
            <meta
                  name="viewport"
                  content="width=device-width, initial-scale=1.0"
            />
            <title>Bootcamp de IA</title>
            <style>
                  body {
                        font-family: Arial, sans-serif;
                        margin: 20px;
                  }

                  table {
                        border-collapse: collapse;
                        width: 100%;
                        table-layout: fixed;
                  }

                  th,
                  td {
                        border: 1px solid #dddddd;
                        text-align: center;
                        padding: 8px;
                        font-size: 8px; /* Tama√±o de texto del cuerpo */
                  }

                  th {
                        background-color: #f4f4f4;
                        font-size: 10px; /* Tama√±o de texto de los encabezados */
                  }

                  td.block {
                        color: white;
                        font-weight: bold;
                  }

                  td.block.pildora {
                        background-color: #d9af05; /* Amarillo */
                  }

                  td.block.tema {
                        background-color: #2ecc71; /* Verde */
                  }

                  td.block.proyecto {
                        background-color: #e67e22; /* Naranja */
                  }

                  td.empty {
                        background-color: #f9f9f9;
                  }

                  /* Ancho m√≠nimo aplicado a la columna de elementos */
                  .label {
                        font-weight: bold;
                        color: white;
                        min-width: 200px; /* Ancho m√≠nimo para la primera columna */
                        text-align: left; /* Alinear el texto a la izquierda */
                  }

                  .label.pildora {
                        background-color: #d9af05;
                  }

                  .label.tema {
                        background-color: #2ecc71;
                  }

                  .label.proyecto {
                        background-color: #e67e22;
                  }

                  .icon {
                        margin-right: 5px;
                  }
            </style>
      </head>
      <body>
            <h1>Bootcamp de IA</h1>

            <div>
                  <label for="weeks">Semanas:</label>
                  <input type="number" id="weeks" value="36" min="1" max="52" />
                  <button onclick="generateGantt()">Generar</button>
            </div>

            <table id="gantt-table">
                  <!-- Aqu√≠ se generar√° la tabla din√°mica -->
            </table>

            <script>
                  const data = [
                        {
                              type: "Proyecto",
                              name: "App con Python üßëüèΩ‚Äçüíª ",
                        },
                        {
                              type: "Proyecto",
                              name: "Un CRUD üë©üèΩ‚Äçüíªüë®üèΩ‚Äçüíª ",
                              start: 4,
                              end: 7,
                        },
                        {
                              type: "Proyecto",
                              name: "Web Scraping üßëüèΩ‚Äçüíª",
                              start: 8,
                              end: 9,
                        },
                        {
                              type: "Proyecto",
                              name: "Regresi√≥n lineal üë©üèΩ‚Äçüíªüë®üèΩ‚Äçüíª ",
                              start: 10,
                              end: 13,
                        },
                        {
                              type: "Proyecto",
                              name: "Regresi√≥n log√≠stica binaria üßëüèΩ‚Äçüíª",
                        },
                        {
                              type: "Proyecto",
                              name: "Regresi√≥n log√≠stica multiclase üë©üèΩ‚Äçüíªüë®üèΩ‚Äçüíª ",
                        },
                        {
                              type: "Tema",
                              name: "Introducci√≥n a programaci√≥n (Terminal, Entornos de desarrollo, Python, Gestor de paquetes, Entorno virtual, SCRUM)",
                              start: 1,
                              end: 1,
                        },
                        {
                              type: "Tema",
                              name: "Buenas pr√°cticas (Programaci√≥n funcional, OOP, Git, Docker, Testing)",
                              start: 4,
                              end: 4,
                        },
                        {
                              type: "Tema",
                              name: "BBDD (SQL, NoSQL, ORM/ODM ) y Despliegue en producci√≥n (APIs Rest, Render, Azure)",
                              start: 5,
                              end: 5,
                        },
                        {
                              type: "Tema",
                              name: "Web Scraping (HTML, CSS, JS, Selenium, Scrapy, DOM)",
                              start: 8,
                              end: 8,
                        },
                        {
                              type: "Tema",
                              name: "Intro a mates y estad√≠stica (Derivadas, l√≠mites, m√©tricas, distribuciones)",
                              start: 10,
                              end: 10,
                        },
                        {
                              type: "Tema",
                              name: "Intro a machine learning (Tipos de modelos) y regresi√≥n lineal (Modelos, entrenamiento, evaluaci√≥n, regresi√≥n lineal)",
                              start: 11,
                              end: 11,
                        },
                        {
                              type: "Tema",
                              name: "Intro a modelo de clasificaci√≥n binaria (Regresi√≥n logicastica, modelos, entrenamiento, evaluaci√≥n)",
                              start: 14,
                              end: 14,
                        },
                        {
                              type: "Tema",
                              name: "Intro a modelo de clasificaci√≥n multiclase y ajuste de modelo",
                              start: 17,
                              end: 17,
                        },
                  ];

                  function generateGantt() {
                        const weeks = document.getElementById("weeks").value;
                        const table = document.getElementById("gantt-table");
                        table.innerHTML = ""; // Limpiar tabla antes de regenerar

                        // Crear encabezado
                        let headerRow =
                              "<tr><th style='width:100px'>Elemento</th>";
                        for (let i = 1; i <= weeks; i++) {
                              headerRow += `<th>${i}</th>`;
                        }
                        headerRow += "</tr>";
                        table.innerHTML = headerRow;

                        let lastEnd = 0; // Variable para rastrear el √∫ltimo "end" de los elementos anteriores

                        // Crear filas
                        data.forEach((item) => {
                              let icon = "";
                              let colorClass = "";

                              // Asignar iconos y colores seg√∫n el tipo
                              if (item.type === "Proyecto") {
                                    icon = "";
                                    colorClass = "proyecto";
                                    // Proyectos tienen 3 bloques por defecto
                                    item.start = item.start
                                          ? item.start
                                          : lastEnd + 1;
                                    item.end = item.end
                                          ? item.end
                                          : item.start + 2;
                              } else if (item.type === "P√≠ldora") {
                                    icon = "";
                                    colorClass = "pildora";
                                    // P√≠ldoras tienen 1 bloque por defecto
                                    item.start = item.start
                                          ? item.start
                                          : lastEnd + 1;
                                    item.end = item.end ? item.end : item.start;
                              } else if (item.type === "Tema") {
                                    icon = "";
                                    colorClass = "tema";
                                    // Temas tienen 3 bloques por defecto
                                    item.start = item.start
                                          ? item.start
                                          : lastEnd + 1;
                                    item.end = item.end
                                          ? item.end
                                          : item.start + 2;
                              }

                              // Actualizar el √∫ltimo "end" para el siguiente elemento
                              lastEnd = item.end;

                              // La primera celda de la fila (columna de elementos) tiene el mismo color que el resto de la fila
                              let row = `<tr><td style="min-width:200px" class="label ${colorClass}">${icon} ${item.name}</td>`;

                              for (let i = 1; i <= weeks; i++) {
                                    if (i >= item.start && i <= item.end) {
                                          row += `<td class="block ${colorClass}"></td>`;
                                    } else {
                                          row += `<td class="empty"></td>`;
                                    }
                              }
                              row += "</tr>";
                              table.innerHTML += row;
                        });
                  }

                  // Generar la tabla al cargar la p√°gina
                  window.onload = generateGantt;
            </script>
      </body>
</html>
